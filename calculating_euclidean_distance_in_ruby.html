<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
   
<!-- Mirrored from www.keithmcdonnell.net/calculating_euclidean_distance_in_ruby.html by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 03 Apr 2014 18:49:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
      <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
      <link href="assets/dancingtext.css" rel="stylesheet" type="text/css" media="screen"/>
      <title>Calculating Euclidean distance in Ruby</title>
   </head>
   <body class='show'>
      <h1>Calculating Euclidean distance in Ruby</h1>

<p class='author'>Written by <a href="index.html">Keith McDonnell</a>. Last updated on 
Friday, November 06, 2009.</p>

<div class='content'>                                 
   <p>Simply put, Euclidean distance is the shortest distance between two points. The kind of distance you would measure with a ruler. e.g. Calculate distance C in the diagram below.</p>
<p><img src="http://resumbrae.com/ub/dms423_f06/12/euclidean.png" alt="" /></p>
<h2>Euclidean distance formula</h2>
<p>Euclidean distance is calculated using the following formula:</p>
<p><img src="http://upload.wikimedia.org/math/f/b/c/fbc0464f8ae162c13ba574b4010cd4da.png" alt="" /></p>
<p>For example, the distance between points P (1,2) and Q (3,4) is:</p>
<table>
	<tr>
		<td> &radic; (P <sub>1</sub> &#8211; Q <sub>1</sub> ) <sup>2</sup> + (P <sub>2</sub> &#8211; Q <sub>2</sub> ) <sup>2</sup> </td>
	</tr>
	<tr>
		<td> = &radic; (1-3) <sup>2</sup> + (2-4) <sup>2</sup> </td>
	</tr>
	<tr>
		<td> = &radic; (-2) <sup>2</sup> + (-2) <sup>2</sup> </td>
	</tr>
	<tr>
		<td> = &radic; 4 + 4 &asymp; 2.828 </td>
	</tr>
</table>
<p>To calculate the distance in multiple dimensions, simply sum the square of each extra point. For example, The distance between points P (1,2,3) and Q (4,5,6) is:</p>
<table>
	<tr>
		<td> &radic; (P <sub>1</sub> &#8211; Q <sub>1</sub> ) <sup>2</sup> + (P <sub>2</sub> &#8211; Q <sub>2</sub> ) <sup>2</sup> + (P <sub>3</sub> &#8211; Q <sub>3</sub> ) <sup>2</sup> </td>
	</tr>
	<tr>
		<td> = &radic; (1-4) <sup>2</sup> + (2-5) <sup>2</sup> + (3-6) <sup>2</sup> </td>
	</tr>
	<tr>
		<td> = &radic; (-3) <sup>2</sup> + (-3) <sup>2</sup> (-2) <sup>2</sup> + (-3) <sup>2</sup> </td>
	</tr>
	<tr>
		<td> = &radic; 9 + 9 + 9 </td>
	</tr>
	<tr>
		<td> = &radic; 27 &asymp;  5.196 </td>
	</tr>
</table>
<h2>Ruby implementation</h2>
<p>To recap, we want to implement the following formula for Euclidean distance in Ruby.</p>
<p><img src="http://upload.wikimedia.org/math/f/b/c/fbc0464f8ae162c13ba574b4010cd4da.png" alt="" /></p>
<p>The main point to note is that the function should take two arrays, each with an arbitrary length. Each element of the array represents a point in a multidimensional space. For the sake of clarity, this example excludes error handling (e.g. arrays of differing lengths ).</p>
<script src="http://gist.github.com/99722.js"></script><h2>References</h2>
<ul>
	<li><a href="http://en.wikipedia.org/wiki/Euclidean_distance">Wikipedia:Euclidean distance</a></li>
	<li><a href="http://www.amazon.com/Programming-Collective-Intelligence-Building-Applications/dp/0596529325/ref=sr_1_2?ie=UTF8&amp;s=books&amp;qid=1240322333&amp;sr=8-2">Programming Collective Intelligence</a> by Toby Segaran</li>
</ul>
<h2>Futher reading</h2>
<p>You can also use Euclidean distance to:</p>
<ul>
	<li><a href="http://www.phpandme.net/2009/03/calculating-distance-between-two-documents">calculate the similarity between two documents</a></li>
	<li>or calculate the proximity of two locations</li>
</ul>
<p>I&#8217;m working through the examples in the Collective Intelligence book by Segaran. You can find them at my <a href="http://github.com/kmcd/ci">Collective Intelligence github repository</a></p>
</div>

<p class='comments'>
   If you&apos;d like to discuss this article, you can send me an email 
   <a href="mailto:&#107;&#101;&#105;&#116;&#104;&#64;&#100;&#97;&#110;&#99;&#105;&#110;&#103;&#116;&#101;&#120;&#116;&#46;&#99;&#111;&#109;">&#107;&#101;&#105;&#116;&#104;&#64;&#100;&#97;&#110;&#99;&#105;&#110;&#103;&#116;&#101;&#120;&#116;&#46;&#99;&#111;&#109;</a> and/or 
   publish an article online and link back to this page.
</p>

      
      <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-8421111-1");
      pageTracker._trackPageview();
      } catch(err) {}</script>
      
      
      <p class='copyright'>
         <a href="http://creativecommons.org/licenses/by-sa/2.5/">Copyright &copy;</a>
         2006 - 2014, 
         <a href="index.html">Keith McDonnell</a>.
      </p>
      
   </body>

<!-- Mirrored from www.keithmcdonnell.net/calculating_euclidean_distance_in_ruby.html by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 03 Apr 2014 18:49:47 GMT -->
</html>
